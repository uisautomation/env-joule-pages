webpackJsonp([1],{0:function(l,n,e){l.exports=e("cDNt")},cDNt:function(l,n,e){"use strict";function t(l){return l.startsWith("http://")?l.replace("http://","https://"):l}function u(l,n){if(!l)return 0;var e=0,t=l.length-1,u=Math.floor((e+t)/2);if(0==l.length)return 0;for(;e<t&&l[u][0]!=n;)n<l[u][0]?t=u-1:n>l[u][0]&&(e=u+1),(u=Math.floor((e+t)/2))<0&&(u=0);return l[u][0]<n&&u++,l[u]&&l[u][0]<n?(console.error("sort fault"),0):u}function i(l,n){return u(l,n)}function o(l){return l.reduce(function(l,n){return Math.max(l,n)})}function a(l){return l.reduce(function(l,n){return Math.min(l,n)})}function r(l,n){if(!l||0==l.length)return 0;var e=u(l,n.start),t=u(l,n.end);t=t<l.length?t:t-1;for(var i=l[e][1],o=e;o<=t;o++)i=i>l[o][1]?i:l[o][1];return i}function s(l,n){var e=u(l,n.start),t=u(l,n.end);t=t<l.length?t:t-1;var i=t-e+1,o=0;if(i>0){for(var a=e;a<=t;a++)o+=l[a][1];return o/i}return 0}function c(l,n,e){return s(l,n)*(n.end-n.start)*e}function d(l,n){var e=u(l,n);return e<=0?l:e>=l.length-1?[]:l.slice(e)}function f(l,n){var e=u(l,n);return e<=0?[]:e>=l.length-1?l:l.slice(0,e)}function h(l,n){for(var e=[],t=0;t<l.length;){var u=l[t][0],i=u+1e3*n,o=l[t][1],a=1;for(t++;t<l.length&&l[t][0]<i;)a++,o+=l[t][1],t++;e.push([(u+i)/2,o/a])}return e}function _(l,n){var e=u(l,n.start),t=u(l,n.end);return l.slice(e,t)}function p(l,n){var e=[],t=l[0][1][0]-l[0][0][0],u=[],r=[];l.forEach(function(l){u.push({series:l,min:l[0][0],max:l[l.length-1][0],current:0})}),n.forEach(function(l){r.push({series:l,min:l[0][0],max:l[l.length-1][0],current:0})});var s=Math.max(o(u.map(function(l){return l.min})),r.length>0?o(r.map(function(l){return l.min})):null),c=r.length>0?Math.min(a(u.map(function(l){return l.max})),a(r.map(function(l){return l.max}))):a(u.map(function(l){return l.max}));u.forEach(function(l){l.current=i(l.series,s)}),r.forEach(function(l){l.current=i(l.series,s)});for(var d,f,h=s;h<c;)d=!0,f=0,u.forEach(function(l){l.series[l.current][0]==h?(f+=l.series[l.current][1],l.current++):d=!1}),r.forEach(function(l){l.series[l.current][0]==h?(f-=l.series[l.current][1],l.current++):d=!1}),d&&e.push([h,f]),h+=t;return e}function g(l){return/S-m[0-9]+/.test(l)}function m(l){return/S-m[0-9]+/.test(l)}function v(l,n){return new Date(l.getTime()+60*n*60*1e3)}function x(l){return hl._34(0,[(l()(),hl._15(0,null,null,4,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==hl._29(l,2)._selectViaInteraction()&&t}if("keydown"===n){t=!1!==hl._29(l,2)._handleKeydown(e)&&t}return t},Ml.b,Ml.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(49152,[[1,4]],0,Al.B,[hl.o,hl.h,[2,Al.A]],{value:[0,"value"]},null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["\n\t      ","\n\t    "]))],function(l,n){l(n,2,0,n.context.$implicit.value)},function(l,n){l(n,0,0,hl._29(n,2)._getTabIndex(),hl._29(n,2).selected,hl._29(n,2).multiple,hl._29(n,2).active,hl._29(n,2).id,hl._29(n,2).selected.toString(),hl._29(n,2).disabled.toString(),hl._29(n,2).disabled),l(n,4,0,n.context.$implicit.viewValue)})}function y(l){return hl._34(0,[(l()(),hl._15(0,null,null,4,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==hl._29(l,2)._selectViaInteraction()&&t}if("keydown"===n){t=!1!==hl._29(l,2)._handleKeydown(e)&&t}return t},Ml.b,Ml.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(49152,[[4,4]],0,Al.B,[hl.o,hl.h,[2,Al.A]],{value:[0,"value"]},null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["\n\t    ","\n\t  "]))],function(l,n){l(n,2,0,n.context.$implicit.value)},function(l,n){l(n,0,0,hl._29(n,2)._getTabIndex(),hl._29(n,2).selected,hl._29(n,2).multiple,hl._29(n,2).active,hl._29(n,2).id,hl._29(n,2).selected.toString(),hl._29(n,2).disabled.toString(),hl._29(n,2).disabled),l(n,4,0,n.context.$implicit.viewValue)})}function b(l){return hl._34(0,[(l()(),hl._33(null,["\n"])),(l()(),hl._15(0,null,null,153,"div",[["fxLayout","row"],["fxLayoutGap","20px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[2,Pl.h],hl.D],{gap:[0,"gap"]},null),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,61,"div",[["class","mat-elevation-z8"],["fxFlex","0 0 300px"],["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,["\n\n      \n      "])),(l()(),hl._15(0,null,null,21,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 12px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" Start Date"])),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 5px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,8,"input",[["class","jouleDatePicker"]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keydown"]],function(l,n,e){var t=!0,u=l.component;if("input"===n){t=!1!==hl._29(l,24)._handleInput(e.target.value)&&t}if("blur"===n){t=!1!==hl._29(l,24).onTouched()&&t}if("compositionstart"===n){t=!1!==hl._29(l,24)._compositionStart()&&t}if("compositionend"===n){t=!1!==hl._29(l,24)._compositionEnd(e.target.value)&&t}if("input"===n){t=!1!==hl._29(l,25)._onInput(e.target.value)&&t}if("change"===n){t=!1!==hl._29(l,25)._onChange()&&t}if("blur"===n){t=!1!==hl._29(l,25)._onTouched()&&t}if("keydown"===n){t=!1!==hl._29(l,25)._onKeydown(e)&&t}if("ngModelChange"===n){t=!1!==(u.intervalStartDay=e)&&t}if("click"===n){t=!1!==hl._29(l,34).open()&&t}return t},null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),hl._13(16384,null,0,Rl.c,[hl.K,hl.o,[2,Rl.a]],null,null),hl._13(1196032,null,0,Bl.g,[hl.o,hl.K,[2,Al.g],[2,Al.q],[2,zl.a]],{matDatepicker:[0,"matDatepicker"],min:[1,"min"],max:[2,"max"]},null),hl._30(1024,null,Rl.f,function(l){return[l]},[Bl.g]),hl._30(1024,null,Rl.g,function(l,n){return[l,n]},[Rl.c,Bl.g]),hl._13(671744,null,0,Rl.k,[[8,null],[2,Rl.f],[8,null],[2,Rl.g]],{model:[0,"model"]},{update:"ngModelChange"}),hl._30(2048,null,Rl.h,null,[Rl.k]),hl._13(16384,null,0,Rl.i,[Rl.h],null,null),(l()(),hl._33(null,["\n      "])),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(16777216,null,null,2,"mat-datepicker",[["startView","month"]],null,[[null,"selectedChanged"]],function(l,n,e){var t=!0,u=l.component;if("selectedChanged"===n){t=!1!==u.updateStartDay(e)&&t}return t},Ll.c,Ll.b)),hl._13(180224,[["myDatepickerLo",4]],0,Bl.e,[Hl.c,Vl.b,hl.D,hl.X,Bl.b,[2,Al.g],[2,Yl.c],[2,gl.b]],{startAt:[0,"startAt"],startView:[1,"startView"]},{selectedChanged:"selectedChanged"}),(l()(),hl._33(null,["\n      "])),(l()(),hl._33(null,["\n      \n      "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 15px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n      \n      "])),(l()(),hl._15(0,null,null,25,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" Start Hour "])),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,18,"mat-form-field",[],null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),(l()(),hl._33(null,["\n\t  "])),(l()(),hl._15(0,null,null,14,"mat-select",[["class","jouleHourPicker mat-select"],["fxLayoutAlign","center center"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"change"],[null,"ngModelChange"],[null,"keydown"],[null,"blur"]],function(l,n,e){var t=!0,u=l.component;if("keydown"===n){t=!1!==hl._29(l,56)._handleClosedKeydown(e)&&t}if("blur"===n){t=!1!==hl._29(l,56)._onBlur()&&t}if("change"===n){t=!1!==u.changed()&&t}if("ngModelChange"===n){t=!1!==(u.intervalStartHour=e)&&t}return t},ql.b,ql.a)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),hl._13(671744,null,0,Rl.k,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),hl._30(2048,null,Rl.h,null,[Rl.k]),hl._13(16384,null,0,Rl.i,[Rl.h],null,null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(1294336,null,3,Ul.c,[Xl.f,hl.h,Jl.a,hl.K,hl.o,[2,Yl.c],[2,Rl.j],[2,Rl.d],[2,Rl.h],[8,null],[2,Al.s],Ul.b],null,{change:"change"}),hl._31(603979776,1,{options:1}),hl._31(603979776,2,{optionGroups:1}),hl._31(335544320,3,{customTrigger:0}),(l()(),hl._33(1,["\n\t    "])),(l()(),hl._9(16777216,null,1,1,null,x)),hl._13(802816,null,0,Wl.e,[hl.X,hl.S,hl.x],{ngForOf:[0,"ngForOf"]},null),(l()(),hl._33(1,["\n\t  "])),(l()(),hl._33(null,["\n\t"])),(l()(),hl._33(null,["\n      "])),(l()(),hl._33(null,["\n\n  "])),(l()(),hl._33(null,["\n\n  \n  "])),(l()(),hl._15(0,null,null,2,"div",[["fxFlex","0 0 15px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["   "])),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,5,"button",[["class","mat-raised-button"],["color","primary"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.prevMonth()&&t}return t},Gl.b,Gl.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(180224,null,0,$l.b,[hl.K,hl.o,Jl.a,Ql.i],{color:[0,"color"]},null),hl._13(16384,null,0,$l.f,[],null,null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["PrevMonth"])),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 15px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,5,"button",[["class","mat-raised-button"],["color","primary"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.nextMonth()&&t}return t},Gl.b,Gl.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(180224,null,0,$l.b,[hl.K,hl.o,Jl.a,Ql.i],{color:[0,"color"]},null),hl._13(16384,null,0,$l.f,[],null,null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["NextMonth"])),(l()(),hl._33(null,[" \n  "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 15px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n    \n \n  "])),(l()(),hl._15(0,null,null,61,"div",[["class","mat-elevation-z8"],["fxFlex","0 0 300px"],["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,["\n      \n    "])),(l()(),hl._15(0,null,null,21,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 12px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" End Date"])),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 5px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n\t\n      "])),(l()(),hl._15(0,null,null,8,"input",[["class","jouleDatePicker"]],[[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keydown"]],function(l,n,e){var t=!0,u=l.component;if("input"===n){t=!1!==hl._29(l,111)._handleInput(e.target.value)&&t}if("blur"===n){t=!1!==hl._29(l,111).onTouched()&&t}if("compositionstart"===n){t=!1!==hl._29(l,111)._compositionStart()&&t}if("compositionend"===n){t=!1!==hl._29(l,111)._compositionEnd(e.target.value)&&t}if("input"===n){t=!1!==hl._29(l,112)._onInput(e.target.value)&&t}if("change"===n){t=!1!==hl._29(l,112)._onChange()&&t}if("blur"===n){t=!1!==hl._29(l,112)._onTouched()&&t}if("keydown"===n){t=!1!==hl._29(l,112)._onKeydown(e)&&t}if("ngModelChange"===n){t=!1!==(u.intervalEndDay=e)&&t}if("click"===n){t=!1!==hl._29(l,121).open()&&t}return t},null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),hl._13(16384,null,0,Rl.c,[hl.K,hl.o,[2,Rl.a]],null,null),hl._13(1196032,null,0,Bl.g,[hl.o,hl.K,[2,Al.g],[2,Al.q],[2,zl.a]],{matDatepicker:[0,"matDatepicker"],min:[1,"min"],max:[2,"max"]},null),hl._30(1024,null,Rl.f,function(l){return[l]},[Bl.g]),hl._30(1024,null,Rl.g,function(l,n){return[l,n]},[Rl.c,Bl.g]),hl._13(671744,null,0,Rl.k,[[8,null],[2,Rl.f],[8,null],[2,Rl.g]],{model:[0,"model"]},{update:"ngModelChange"}),hl._30(2048,null,Rl.h,null,[Rl.k]),hl._13(16384,null,0,Rl.i,[Rl.h],null,null),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(16777216,null,null,2,"mat-datepicker",[["startView","month"]],null,[[null,"selectedChanged"]],function(l,n,e){var t=!0,u=l.component;if("selectedChanged"===n){t=!1!==u.updateEndDay(e)&&t}return t},Ll.c,Ll.b)),hl._13(180224,[["myDatepickerHi",4]],0,Bl.e,[Hl.c,Vl.b,hl.D,hl.X,Bl.b,[2,Al.g],[2,Yl.c],[2,gl.b]],{startAt:[0,"startAt"],startView:[1,"startView"]},{selectedChanged:"selectedChanged"}),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 15px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,25,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" End Hour "])),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,18,"mat-form-field",[],null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,14,"mat-select",[["class","jouleHourPicker mat-select"],["fxLayoutAlign","center center"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"change"],[null,"ngModelChange"],[null,"keydown"],[null,"blur"]],function(l,n,e){var t=!0,u=l.component;if("keydown"===n){t=!1!==hl._29(l,143)._handleClosedKeydown(e)&&t}if("blur"===n){t=!1!==hl._29(l,143)._onBlur()&&t}if("change"===n){t=!1!==u.changed()&&t}if("ngModelChange"===n){t=!1!==(u.intervalEndHour=e)&&t}return t},ql.b,ql.a)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),hl._13(671744,null,0,Rl.k,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),hl._30(2048,null,Rl.h,null,[Rl.k]),hl._13(16384,null,0,Rl.i,[Rl.h],null,null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(1294336,null,3,Ul.c,[Xl.f,hl.h,Jl.a,hl.K,hl.o,[2,Yl.c],[2,Rl.j],[2,Rl.d],[2,Rl.h],[8,null],[2,Al.s],Ul.b],null,{change:"change"}),hl._31(603979776,4,{options:1}),hl._31(603979776,5,{optionGroups:1}),hl._31(335544320,6,{customTrigger:0}),(l()(),hl._33(1,["\n\t  "])),(l()(),hl._9(16777216,null,1,1,null,y)),hl._13(802816,null,0,Wl.e,[hl.X,hl.S,hl.x],{ngForOf:[0,"ngForOf"]},null),(l()(),hl._33(1,["\n\t"])),(l()(),hl._33(null,["\n      "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n  "])),(l()(),hl._33(null,["\n"])),(l()(),hl._33(null,["\n\n"]))],function(l,n){var e=n.component;l(n,2,0,"row");l(n,3,0,"20px");l(n,6,0,"center center");l(n,7,0,"0 0 300px");l(n,8,0,"mat-elevation-z8");l(n,11,0,"column");l(n,14,0,"0 0 12px");l(n,20,0,"0 0 5px");l(n,23,0,"jouleDatePicker"),l(n,25,0,hl._29(n,34),e.minDay,e.intervalEndDay),l(n,28,0,e.intervalStartDay);l(n,34,0,e.intervalStartDay,"month");l(n,38,0,"0 0 15px");l(n,41,0,"column");l(n,50,0,"center center");l(n,51,0,"jouleHourPicker"),l(n,52,0,e.intervalStartHour),l(n,56,0),l(n,62,0,e.hours);l(n,69,0,"0 0 15px");l(n,74,0,"primary");l(n,80,0,"0 0 15px");l(n,84,0,"primary");l(n,90,0,"0 0 15px");l(n,93,0,"center center");l(n,94,0,"0 0 300px");l(n,95,0,"mat-elevation-z8");l(n,98,0,"column");l(n,101,0,"0 0 12px");l(n,107,0,"0 0 5px");l(n,110,0,"jouleDatePicker"),l(n,112,0,hl._29(n,121),e.intervalStartDay,e.maxDay),l(n,115,0,e.intervalEndDay);l(n,121,0,e.intervalEnd,"month");l(n,125,0,"0 0 15px");l(n,128,0,"column");l(n,137,0,"center center");l(n,138,0,"jouleHourPicker"),l(n,139,0,e.intervalEndHour),l(n,143,0),l(n,149,0,e.hours)},function(l,n){l(n,22,1,[!0,(null==hl._29(n,25)._datepicker?null:hl._29(n,25)._datepicker.opened)&&hl._29(n,25)._datepicker.id||null,hl._29(n,25).min?hl._29(n,25)._dateAdapter.toIso8601(hl._29(n,25).min):null,hl._29(n,25).max?hl._29(n,25)._dateAdapter.toIso8601(hl._29(n,25).max):null,hl._29(n,25).disabled,hl._29(n,30).ngClassUntouched,hl._29(n,30).ngClassTouched,hl._29(n,30).ngClassPristine,hl._29(n,30).ngClassDirty,hl._29(n,30).ngClassValid,hl._29(n,30).ngClassInvalid,hl._29(n,30).ngClassPending]),l(n,49,1,[hl._29(n,54).ngClassUntouched,hl._29(n,54).ngClassTouched,hl._29(n,54).ngClassPristine,hl._29(n,54).ngClassDirty,hl._29(n,54).ngClassValid,hl._29(n,54).ngClassInvalid,hl._29(n,54).ngClassPending,hl._29(n,56).tabIndex,hl._29(n,56)._ariaLabel,hl._29(n,56).ariaLabelledby,hl._29(n,56).required.toString(),hl._29(n,56).disabled.toString(),hl._29(n,56)._isErrorState(),hl._29(n,56)._optionIds,hl._29(n,56).multiple,hl._29(n,56).disabled,hl._29(n,56)._isErrorState(),hl._29(n,56).required]),l(n,72,0,hl._29(n,74).disabled||null),l(n,82,0,hl._29(n,84).disabled||null);l(n,109,1,[!0,(null==hl._29(n,112)._datepicker?null:hl._29(n,112)._datepicker.opened)&&hl._29(n,112)._datepicker.id||null,hl._29(n,112).min?hl._29(n,112)._dateAdapter.toIso8601(hl._29(n,112).min):null,hl._29(n,112).max?hl._29(n,112)._dateAdapter.toIso8601(hl._29(n,112).max):null,hl._29(n,112).disabled,hl._29(n,117).ngClassUntouched,hl._29(n,117).ngClassTouched,hl._29(n,117).ngClassPristine,hl._29(n,117).ngClassDirty,hl._29(n,117).ngClassValid,hl._29(n,117).ngClassInvalid,hl._29(n,117).ngClassPending]),l(n,136,1,[hl._29(n,141).ngClassUntouched,hl._29(n,141).ngClassTouched,hl._29(n,141).ngClassPristine,hl._29(n,141).ngClassDirty,hl._29(n,141).ngClassValid,hl._29(n,141).ngClassInvalid,hl._29(n,141).ngClassPending,hl._29(n,143).tabIndex,hl._29(n,143)._ariaLabel,hl._29(n,143).ariaLabelledby,hl._29(n,143).required.toString(),hl._29(n,143).disabled.toString(),hl._29(n,143)._isErrorState(),hl._29(n,143)._optionIds,hl._29(n,143).multiple,hl._29(n,143).disabled,hl._29(n,143)._isErrorState(),hl._29(n,143).required])})}function S(l){return hl._34(0,[(l()(),hl._15(0,null,null,3,"app-interval",[],null,null,null,b,ln)),hl._30(512,null,Al.g,Al.H,[[2,Al.o]]),hl._13(114688,null,0,Ol,[Al.g,jl],null,null),hl._30(256,null,Al.q,{parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"short",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},[])],function(l,n){l(n,2,0)},null)}function D(l){return hl._34(0,[(l()(),hl._15(0,null,null,0,":svg:svg",[],null,null,null,null,null)),(l()(),hl._33(null,["\n"]))],null,null)}function C(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"sankey",[],null,null,null,D,rn)),hl._13(114688,null,0,un,[hl.o,on.a,tn,jl],null,null)],function(l,n){l(n,1,0)},null)}function w(l,n,e){return l+"("+n.toString()+","+e.toString()+")"}function k(l,n){return!(!l||!l.children)&&l.children.some(function(l){return l==n})}function N(l){return l.children?l.value=l.children.reduce(function(l,n){return l+N(n)},0):l.value}function j(l){l.xPos=0,l.xDel=1,l.yPos=0,l.yDel=1}function K(l){var n=l.slice(0);return n.sort(function(l,n){return l.value<n.value?-1:l.value>n.value?1:0}),n}function I(l,n,e){if(0==l.length)return 0;var t=l[0].relValue,u=l[l.length-1].relValue,i=l.reduce(function(l,n){return l+n.relValue},0),o=1/e*(n*n*u)/(i*i),a=1/e*(n*n*t)/(i*i);return Math.max(o,1/a)}function L(l){l.xPos=0,l.xDel=0,l.yPos=0,l.yDel=0}function E(l,n){function e(l){var n=l.reduce(function(l,n){return l+n.relValue},0),e=0;l.forEach(function(l){l.xPos=e,l.xDel=n>0?l.relValue/n:0,l.yPos=t,l.yDel=n,e+=l.xDel}),t+=n}if(l.children){for(var t=0,u=K(l.children),i=0;i<u.length&&!(u[i].value>0);)L(u[i++]);if(u=u.slice(i),0!=u.length){var o=1e4,a=0;l.children.forEach(function(e){e.relValue=l.value>0?e.value/l.value:0,E(e,n)});for(var r=1;r<l.children.length;r++){var s=u.slice(0,r),c=u.slice(r),d=Math.max(I(s,1,n),I(c,1,n));d<o&&(o=d,a=r)}e(u.slice(0,a)),e(u.slice(a))}}}function P(l){l.descendants().forEach(function(l){l.parent&&(l.gcXPos=l.parent.xPos+l.parent.xDel*l.xPos,l.gcXDel=l.parent.xDel*l.xDel,l.gcYPos=l.parent.yPos+l.parent.yDel*l.yPos,l.gcYDel=l.parent.yDel*l.yDel)})}function T(l){return hl._34(0,[(l()(),hl._15(0,null,null,35,"div",[["fxLayout",""],["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[2,Pl.h]],{align:[0,"align"]},null),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,30,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 50px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,18,"div",[["fxLayout","row"],["fxLayoutGap","100px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[2,Pl.h],hl.D],{gap:[0,"gap"]},null),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,5,"button",[["class","mat-raised-button"],["color","primary"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.upClick()&&t}return t},Gl.b,Gl.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(180224,null,0,$l.b,[hl.K,hl.o,Jl.a,Ql.i],{color:[0,"color"]},null),hl._13(16384,null,0,$l.f,[],null,null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["Up"])),(l()(),hl._33(null,[" \n      "])),(l()(),hl._15(0,null,null,2,"div",[["class","mat-title"]],null,null,null,null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,[" ","  "])),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,2,"div",[["class","mat-title"]],null,null,null,null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,[" ","  "])),(l()(),hl._33(null,["    \n    "])),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,3,"div",[["height","100%"],["width","100%"]],null,null,null,null,null)),(l()(),hl._33(null,[" "])),(l()(),hl._15(0,null,null,0,":svg:svg",[],null,null,null,null,null)),(l()(),hl._33(null,[" "])),(l()(),hl._33(null,["\n  "])),(l()(),hl._33(null,["\n"])),(l()(),hl._33(null,["\n"]))],function(l,n){l(n,1,0,"");l(n,2,0,"center center");l(n,5,0,"column");l(n,8,0,"0 0 50px");l(n,11,0,"row");l(n,12,0,"100px");l(n,16,0,"primary");l(n,22,0,"mat-title");l(n,26,0,"mat-title")},function(l,n){var e=n.component;l(n,14,0,hl._29(n,16).disabled||null),l(n,23,0,e.legendString),l(n,27,0,e.highlightString)})}function M(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"tree-plot",[],null,null,null,T,pn)),hl._13(245760,null,0,hn,[hl.o,on.a,jl,tn],null,null)],function(l,n){l(n,1,0)},null)}function A(l){return hl._34(0,[(l()(),hl._15(0,null,null,0,":svg:svg",[],null,null,null,null,null)),(l()(),hl._33(null,["\n\n"]))],null,null)}function F(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"app-selection-tree",[],null,null,null,A,yn)),hl._13(245760,null,0,vn,[hl.o,on.a,jl,tn],null,null)],function(l,n){l(n,1,0)},null)}function O(l){function n(l){return l<10?"0"+l.toString():l}var e=l[0],t=l[1],u=e.getFullYear(),i=t.getFullYear(),o=Dn[e.getMonth()],a=Dn[t.getMonth()],r=e.getDate(),s=t.getDate(),c=n(e.getHours()),d=n(t.getHours()),f=n(e.getMinutes()),h=n(t.getMinutes());return u!=i?o+" "+u+" to "+a+" "+i:o!=a?r+" "+o+" to "+s+" "+a+" "+i:r!=s?r+" to "+s+" "+a+" "+i:c+":"+f+" to "+d+":"+h+" "+Cn[e.getDay()]+" "+s+" "+a+" "+i}function R(l){return hl._34(0,[(l()(),hl._15(0,null,null,0,":svg:svg",[],null,null,null,null,null)),(l()(),hl._33(null,["\n"]))],null,null)}function B(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"line-plot",[],null,null,null,R,Nn)),hl._13(245760,null,0,wn,[hl.o,on.a,jl,tn],null,null)],function(l,n){l(n,1,0)},null)}function z(l){return hl._34(0,[(l()(),hl._15(0,null,null,20,"div",[["fxLayout","column"],["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[2,Pl.h]],{align:[0,"align"]},null),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,["Time averaging interval"])),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,7,"mat-slider",[["class","mat-slider"],["min","0"],["role","slider"],["tabindex","0"]],[[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(l,n,e){var t=!0,u=l.component;if("focus"===n){t=!1!==hl._29(l,8)._onFocus()&&t}if("blur"===n){t=!1!==hl._29(l,8)._onBlur()&&t}if("click"===n){t=!1!==hl._29(l,8)._onClick(e)&&t}if("keydown"===n){t=!1!==hl._29(l,8)._onKeydown(e)&&t}if("keyup"===n){t=!1!==hl._29(l,8)._onKeyup()&&t}if("mouseenter"===n){t=!1!==hl._29(l,8)._onMouseenter()&&t}if("slide"===n){t=!1!==hl._29(l,8)._onSlide(e)&&t}if("slideend"===n){t=!1!==hl._29(l,8)._onSlideEnd()&&t}if("slidestart"===n){t=!1!==hl._29(l,8)._onSlideStart(e)&&t}if("ngModelChange"===n){t=!1!==(u.avgInterval=e)&&t}if("click"===n){t=!1!==u.slider()&&t}return t},In.b,In.a)),hl._13(245760,null,0,Ln.a,[hl.K,hl.o,Ql.i,hl.h,[2,Yl.c]],{max:[0,"max"],min:[1,"min"]},null),hl._30(1024,null,Rl.g,function(l){return[l]},[Ln.a]),hl._13(671744,null,0,Rl.k,[[8,null],[8,null],[8,null],[2,Rl.g]],{model:[0,"model"]},{update:"ngModelChange"}),hl._30(2048,null,Rl.h,null,[Rl.k]),hl._13(16384,null,0,Rl.i,[Rl.h],null,null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),(l()(),hl._33(null,["\n  "])),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" "," "])),(l()(),hl._33(null,["\n"])),(l()(),hl._15(0,null,null,1,"div",[],null,null,null,null,null)),(l()(),hl._33(null,["\n"]))],function(l,n){var e=n.component;l(n,1,0,"column");l(n,2,0,"center center");l(n,8,0,hl._18(1,"",e.slideMax,""),"0"),l(n,10,0,e.avgInterval)},function(l,n){var e=n.component;l(n,7,1,[hl._29(n,8).disabled,hl._29(n,8).max,hl._29(n,8).min,hl._29(n,8).value,hl._29(n,8).vertical?"vertical":"horizontal",hl._29(n,8).disabled,hl._29(n,8).tickInterval,!hl._29(n,8).vertical,hl._29(n,8)._invertAxis,hl._29(n,8)._isSliding,hl._29(n,8).thumbLabel,hl._29(n,8).vertical,hl._29(n,8)._isMinValue,hl._29(n,8).disabled||hl._29(n,8)._isMinValue&&hl._29(n,8)._thumbGap&&hl._29(n,8)._invertAxis,hl._29(n,12).ngClassUntouched,hl._29(n,12).ngClassTouched,hl._29(n,12).ngClassPristine,hl._29(n,12).ngClassDirty,hl._29(n,12).ngClassValid,hl._29(n,12).ngClassInvalid,hl._29(n,12).ngClassPending]),l(n,17,0,e.avgIntervalString())})}function H(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"smoother",[],null,null,null,z,Pn)),hl._13(114688,null,0,Kn,[jl,tn],null,null)],function(l,n){l(n,1,0)},null)}function V(l){return hl._34(0,[(l()(),hl._15(0,null,null,3,"mat-header-cell",[["class","mat-header-cell"],["fxFlex","30px"],["role","columnheader"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.f,[An.f,hl.o,hl.K],null,null)],function(l,n){l(n,1,0,"30px")},null)}function Y(l){return hl._34(0,[(l()(),hl._15(0,null,null,4,"mat-cell",[["class","mat-cell"],["fxFlex","30px"],["role","gridcell"]],[[4,"color",null]],null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.c,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,["  \u2588\u2588 "]))],function(l,n){l(n,1,0,"30px")},function(l,n){l(n,0,0,n.context.$implicit.color)})}function q(l){return hl._34(0,[(l()(),hl._15(0,null,null,3,"mat-header-cell",[["class","mat-header-cell"],["fxFlex","300px"],["role","columnheader"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.f,[An.f,hl.o,hl.K],null,null)],function(l,n){l(n,1,0,"300px")},null)}function U(l){return hl._34(0,[(l()(),hl._15(0,null,null,4,"mat-cell",[["class","mat-cell"],["fxFlex","300px"],["role","gridcell"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.c,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"300px")},function(l,n){l(n,4,0,n.context.$implicit.name)})}function X(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-header-cell",[["class","mat-header-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","columnheader"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.f,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.component.avFocusName)})}function J(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-cell",[["class","mat-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","gridcell"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.c,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.context.$implicit.avFocus)})}function W(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-header-cell",[["class","mat-header-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","columnheader"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.f,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.component.maxFocusName)})}function G(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-cell",[["class","mat-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","gridcell"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.c,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.context.$implicit.maxFocus)})}function $(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-header-cell",[["class","mat-header-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","columnheader"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.f,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.component.avIntervalName)})}function Q(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-cell",[["class","mat-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","gridcell"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.c,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.context.$implicit.avInterval)})}function Z(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-header-cell",[["class","mat-header-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","columnheader"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.f,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.component.totalName)})}function ll(l){return hl._34(0,[(l()(),hl._15(0,null,null,5,"mat-cell",[["class","mat-cell"],["fxFlex","150px"],["fxLayoutAlign","end center"],["role","gridcell"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.c,[An.f,hl.o,hl.K],null,null),(l()(),hl._33(null,[" "," "]))],function(l,n){l(n,1,0,"end center");l(n,2,0,"150px")},function(l,n){l(n,5,0,n.context.$implicit.total)})}function nl(l){return hl._34(0,[(l()(),hl._15(0,null,null,3,"mat-header-row",[["class","mat-header-row"],["fxLayoutGap","10px"],["role","row"]],null,null,null,Fn.d,Fn.a)),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[8,null],hl.D],{gap:[0,"gap"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(49152,null,0,Mn.h,[],null,null)],function(l,n){l(n,1,0,"10px")},null)}function el(l){return hl._34(0,[(l()(),hl._15(0,null,null,3,"mat-row",[["class","mat-row"],["fxLayoutGap","10px"],["role","row"]],null,null,null,Fn.e,Fn.b)),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[8,null],hl.D],{gap:[0,"gap"]},null),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(49152,null,0,Mn.i,[],null,null)],function(l,n){l(n,1,0,"10px")},null)}function tl(l){return hl._34(0,[(l()(),hl._15(0,null,null,134,"div",[["class","example-container mat-elevation-z8"]],null,null,null,null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,["\n\n\n  "])),(l()(),hl._15(0,null,null,130,"mat-table",[["class","mat-table"]],null,null,null,Fn.f,Fn.c)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(3391488,[["table",4]],3,Mn.j,[hl.x,hl.h,hl.o,hl.K,[8,null]],{dataSource:[0,"dataSource"]},null),hl._31(603979776,1,{_columnDefinitions:1}),hl._31(335544320,2,{_headerDefinition:0}),hl._31(603979776,3,{_rowDefinitions:1}),(l()(),hl._33(null,["\n\n    "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,16,null,null,null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,2,Mn.e,[],{_matColumnDefName:[0,"_matColumnDefName"]},null),hl._31(335544320,4,{cell:0}),hl._31(335544320,5,{headerCell:0}),hl._30(2048,[[1,4]],An.f,null,[Mn.e]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,V)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.g,[hl.S],null,null),hl._30(2048,[[5,4]],An.h,null,[Mn.g]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,Y)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.d,[hl.S],null,null),hl._30(2048,[[4,4]],An.d,null,[Mn.d]),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,16,null,null,null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,2,Mn.e,[],{_matColumnDefName:[0,"_matColumnDefName"]},null),hl._31(335544320,6,{cell:0}),hl._31(335544320,7,{headerCell:0}),hl._30(2048,[[1,4]],An.f,null,[Mn.e]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,q)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.g,[hl.S],null,null),hl._30(2048,[[7,4]],An.h,null,[Mn.g]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,U)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.d,[hl.S],null,null),hl._30(2048,[[6,4]],An.d,null,[Mn.d]),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,[" \n    \n    "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,16,null,null,null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,2,Mn.e,[],{_matColumnDefName:[0,"_matColumnDefName"]},null),hl._31(335544320,8,{cell:0}),hl._31(335544320,9,{headerCell:0}),hl._30(2048,[[1,4]],An.f,null,[Mn.e]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,X)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.g,[hl.S],null,null),hl._30(2048,[[9,4]],An.h,null,[Mn.g]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,J)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.d,[hl.S],null,null),hl._30(2048,[[8,4]],An.d,null,[Mn.d]),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n\n    "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,16,null,null,null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,2,Mn.e,[],{_matColumnDefName:[0,"_matColumnDefName"]},null),hl._31(335544320,10,{cell:0}),hl._31(335544320,11,{headerCell:0}),hl._30(2048,[[1,4]],An.f,null,[Mn.e]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,W)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.g,[hl.S],null,null),hl._30(2048,[[11,4]],An.h,null,[Mn.g]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,G)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.d,[hl.S],null,null),hl._30(2048,[[10,4]],An.d,null,[Mn.d]),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n\n    "])),(l()(),hl._33(null,["\n.    "])),(l()(),hl._15(0,null,null,16,null,null,null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,2,Mn.e,[],{_matColumnDefName:[0,"_matColumnDefName"]},null),hl._31(335544320,12,{cell:0}),hl._31(335544320,13,{headerCell:0}),hl._30(2048,[[1,4]],An.f,null,[Mn.e]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,$)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.g,[hl.S],null,null),hl._30(2048,[[13,4]],An.h,null,[Mn.g]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,Q)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.d,[hl.S],null,null),hl._30(2048,[[12,4]],An.d,null,[Mn.d]),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,16,null,null,null,null,null,null,null)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,2,Mn.e,[],{_matColumnDefName:[0,"_matColumnDefName"]},null),hl._31(335544320,14,{cell:0}),hl._31(335544320,15,{headerCell:0}),hl._30(2048,[[1,4]],An.f,null,[Mn.e]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,Z)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.g,[hl.S],null,null),hl._30(2048,[[15,4]],An.h,null,[Mn.g]),(l()(),hl._33(null,["\n      "])),(l()(),hl._9(0,null,null,3,null,ll)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(16384,null,0,Mn.d,[hl.S],null,null),hl._30(2048,[[14,4]],An.d,null,[Mn.d]),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n\n    "])),(l()(),hl._9(0,null,null,3,null,nl)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(540672,null,0,Mn.a,[hl.S,hl.x],{columns:[0,"columns"]},null),hl._30(2048,[[2,4]],An.j,null,[Mn.a]),(l()(),hl._33(null,["\n    "])),(l()(),hl._9(0,null,null,3,null,el)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(540672,null,0,Mn.b,[hl.S,hl.x],{columns:[0,"columns"]},null),hl._30(2048,[[3,4]],An.l,null,[Mn.b]),(l()(),hl._33(null,["\n  "])),(l()(),hl._33(null,["\n\n"])),(l()(),hl._33(null,["\n"]))],function(l,n){var e=n.component;l(n,1,0,"example-container mat-elevation-z8"),l(n,5,0,e.dataSource);l(n,13,0,"key");l(n,32,0,"name");l(n,51,0,"avFocus");l(n,70,0,"maxFocus");l(n,89,0,"avInterval");l(n,108,0,"total"),l(n,126,0,e.displayedColumns),l(n,131,0,e.displayedColumns)},null)}function ul(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"joule-table",[],null,null,null,tl,Yn)),hl._13(114688,null,0,Bn,[jl,tn],null,null)],function(l,n){l(n,1,0)},null)}function il(l){return hl._34(0,[(l()(),hl._15(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),hl._33(null,["  "])),(l()(),hl._15(0,null,null,1,"sankey",[],null,null,null,D,rn)),hl._13(114688,null,0,un,[hl.o,on.a,tn,jl],null,null),(l()(),hl._33(null,[" "]))],function(l,n){l(n,3,0)},null)}function ol(l){return hl._34(0,[(l()(),hl._15(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),hl._33(null,["\n\n     "])),(l()(),hl._15(0,null,null,1,"tree-plot",[],null,null,null,T,pn)),hl._13(245760,null,0,hn,[hl.o,on.a,jl,tn],null,null),(l()(),hl._33(null,["\n\n    "]))],function(l,n){l(n,3,0)},null)}function al(l){return hl._34(0,[(l()(),hl._15(0,null,null,44,"div",[],null,null,null,null,null)),(l()(),hl._33(null,["\n\n      "])),(l()(),hl._15(0,null,null,41,"div",[["class","container"],["fxLayout",""]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,["\n\t"])),(l()(),hl._15(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" "])),(l()(),hl._15(0,null,null,1,"app-selection-tree",[],null,null,null,A,yn)),hl._13(245760,null,0,vn,[hl.o,on.a,jl,tn],null,null),(l()(),hl._33(null,[" "])),(l()(),hl._33(null,["\n\n\n\t"])),(l()(),hl._15(0,null,null,30,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n\t  "])),(l()(),hl._15(0,null,null,20,"div",[["fxLayout","row"],["fxLayoutGap","20px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[2,Pl.h],hl.D],{gap:[0,"gap"]},null),(l()(),hl._33(null,["\n\t    "])),(l()(),hl._15(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" "])),(l()(),hl._15(0,null,null,1,"line-plot",[],null,null,null,R,Nn)),hl._13(245760,null,0,wn,[hl.o,on.a,jl,tn],null,null),(l()(),hl._33(null,[" "])),(l()(),hl._33(null,["\n\t    "])),(l()(),hl._15(0,null,null,9,"div",[["fxLayout","column"],["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[2,Pl.h]],{align:[0,"align"]},null),(l()(),hl._33(null,["\n\t      "])),(l()(),hl._15(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" "])),(l()(),hl._15(0,null,null,1,"smoother",[],null,null,null,z,Pn)),hl._13(114688,null,0,Kn,[jl,tn],null,null),(l()(),hl._33(null,[" "])),(l()(),hl._33(null,["\n\t    "])),(l()(),hl._33(null,["\n\t  "])),(l()(),hl._33(null,["\n\t  "])),(l()(),hl._15(0,null,null,4,"div",[],null,null,null,null,null)),(l()(),hl._33(null,[" "])),(l()(),hl._15(0,null,null,1,"joule-table",[],null,null,null,tl,Yn)),hl._13(114688,null,0,Bn,[jl,tn],null,null),(l()(),hl._33(null,[" "])),(l()(),hl._33(null,["\n\n\t"])),(l()(),hl._33(null,["\n      "])),(l()(),hl._33(null,["\n    "]))],function(l,n){l(n,3,0,"");l(n,4,0,"container"),l(n,9,0);l(n,13,0,"column");l(n,16,0,"row");l(n,17,0,"20px"),l(n,22,0);l(n,26,0,"column");l(n,27,0,"center center"),l(n,32,0),l(n,40,0)},null)}function rl(l){return hl._34(0,[(l()(),hl._33(null,[" \n"])),(l()(),hl._15(0,null,null,42,"div",[["class","container"],["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,["\n\n  "])),(l()(),hl._15(0,null,null,24,"div",[["fxLayout","row"],["fxLayoutGap","10px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[2,Pl.h],hl.D],{gap:[0,"gap"]},null),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,5,"button",[["class","mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.sankey()&&t}return t},Gl.b,Gl.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(180224,null,0,$l.b,[hl.K,hl.o,Jl.a,Ql.i],{color:[0,"color"]},null),hl._13(16384,null,0,$l.f,[],null,null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["Sankey"])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,5,"button",[["class","mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.treemap()&&t}return t},Gl.b,Gl.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(180224,null,0,$l.b,[hl.K,hl.o,Jl.a,Ql.i],{color:[0,"color"]},null),hl._13(16384,null,0,$l.f,[],null,null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["Tree"])),(l()(),hl._33(null,["\n    "])),(l()(),hl._15(0,null,null,5,"button",[["class","mat-raised-button"],["mat-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.linePlot()&&t}return t},Gl.b,Gl.a)),hl._13(16384,null,0,Al.u,[[2,Al.m],hl.o],null,null),hl._13(180224,null,0,$l.b,[hl.K,hl.o,Jl.a,Ql.i],{color:[0,"color"]},null),hl._13(16384,null,0,$l.f,[],null,null),hl._30(8448,null,Al.m,!0,[]),(l()(),hl._33(0,["Line"])),(l()(),hl._33(null,["\n  "])),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,11,"div",[],null,null,null,null,null)),hl._13(16384,null,0,Wl.j,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),hl._33(null,["\n    "])),(l()(),hl._9(16777216,null,null,1,null,il)),hl._13(278528,null,0,Wl.k,[hl.X,hl.S,Wl.j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),hl._33(null,["\n\n    "])),(l()(),hl._9(16777216,null,null,1,null,ol)),hl._13(278528,null,0,Wl.k,[hl.X,hl.S,Wl.j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),hl._33(null,["\n\n\n    "])),(l()(),hl._9(16777216,null,null,1,null,al)),hl._13(278528,null,0,Wl.k,[hl.X,hl.S,Wl.j],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),hl._33(null,["\n    \n  "])),(l()(),hl._33(null,["\n"])),(l()(),hl._33(null,["\n\n\n  \n\n  \n\n"]))],function(l,n){var e=n.component;l(n,2,0,"column");l(n,3,0,"container");l(n,6,0,"row");l(n,7,0,"10px"),l(n,11,0,hl._18(1,"",e.plotType==e.pt.Sankey?"accent":"primary","")),l(n,18,0,hl._18(1,"",e.plotType==e.pt.Tree?"accent":"primary","")),l(n,25,0,hl._18(1,"",e.plotType==e.pt.Line?"accent":"primary","")),l(n,32,0,e.plotType),l(n,35,0,e.pt.Sankey),l(n,38,0,e.pt.Tree),l(n,41,0,e.pt.Line)},function(l,n){l(n,9,0,hl._29(n,11).disabled||null),l(n,16,0,hl._29(n,18).disabled||null),l(n,23,0,hl._29(n,25).disabled||null)})}function sl(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"app-plot-area",[],null,null,null,rl,Xn)),hl._13(49152,null,0,qn,[],null,null)],null,null)}function cl(l){return hl._34(0,[(l()(),hl._15(0,null,null,34,"section",[["class","mat-typography"]],null,null,null,null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,["\n  "])),(l()(),hl._15(0,null,null,30,"div",[["fxLayout","column"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,1,"div",[["fxFlex","0 0 50px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.e,[Pl.m,hl.o,hl.K,[3,Pl.h],[3,Pl.j]],{flex:[0,"flex"]},null),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,20,"div",[["fxLayout","row"],["fxLayoutGap","20px"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.h,[Pl.m,hl.o,hl.K],{layout:[0,"layout"]},null),hl._13(1785856,null,0,Pl.i,[Pl.m,hl.o,hl.K,[2,Pl.h],hl.D],{gap:[0,"gap"]},null),(l()(),hl._33(null,["\n\n      "])),(l()(),hl._15(0,null,null,6,"div",[["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),(l()(),hl._33(null,["  "])),(l()(),hl._15(0,null,null,2,"h1",[["class","mat-display-1"]],null,null,null,null,null)),hl._13(999424,null,0,Pl.c,[Pl.m,hl.o,hl.K,hl.J,hl.x,hl.y,[8,null]],{classBase:[0,"classBase"]},null),(l()(),hl._33(null,[" Joule on Angular Material "])),(l()(),hl._33(null,["   "])),(l()(),hl._33(null,["\n      "])),(l()(),hl._15(0,null,null,7,"div",[["fxLayoutAlign","center center"]],null,null,null,null,null)),hl._13(737280,null,0,Pl.g,[Pl.m,hl.o,hl.K,[8,null]],{align:[0,"align"]},null),(l()(),hl._33(null,["     "])),(l()(),hl._15(0,null,null,3,"app-interval",[],null,null,null,b,ln)),hl._30(512,null,Al.g,Al.H,[[2,Al.o]]),hl._13(114688,null,0,Ol,[Al.g,jl],null,null),hl._30(256,null,Al.q,{parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"short",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},[]),(l()(),hl._33(null,[" "])),(l()(),hl._33(null,["\n    "])),(l()(),hl._33(null,["\n    \n    "])),(l()(),hl._15(0,null,null,1,"app-plot-area",[],null,null,null,rl,Xn)),hl._13(49152,null,0,qn,[],null,null),(l()(),hl._33(null,["\n \n  "])),(l()(),hl._33(null,["\n"])),(l()(),hl._33(null,["\n"]))],function(l,n){l(n,1,0,"mat-typography");l(n,4,0,"column");l(n,7,0,"0 0 50px");l(n,10,0,"row");l(n,11,0,"20px");l(n,14,0,"center center");l(n,17,0,"mat-display-1");l(n,22,0,"center center"),l(n,26,0)},null)}function dl(l){return hl._34(0,[(l()(),hl._15(0,null,null,1,"app-root",[],null,null,null,cl,Wn)),hl._13(114688,null,0,Kl,[gl.b,ml.c,jl,yl],null,null)],function(l,n){l(n,1,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var fl,hl=e("/oeL"),_l={production:!0},pl=(e("rgUS"),function(){function l(){}return l}()),gl=e("fc+i"),ml=e("XKz0"),vl=e("Dqrr"),xl=e("rlar"),yl=function(){function l(l){this.http=l}return l.prototype.setSensorRoot=function(l){this.sensorRootUrl=t(l)},l.prototype.setCarbonRoot=function(l){this.carbonRootUrl=t(l)},l.prototype.scrutinise=function(l,n,e){e.some(function(l){return l[1]>500})&&console.log("weirdness "+l+" "+n)},l.prototype.getSensorTimeSeries=function(l,n){var e=this,t=this.sensorRootUrl+"/"+l+"/"+l+"-"+n+".json";return this.http.get(t).catch(function(l){return console.log("error caught",l),vl.Observable.of(null)}).map(function(t){if(null==t)return[];var u=t.data,i=[];if(!u.readings)return i;e.scrutinise(l,n,i);for(var o=u.start,a=0;a<u.readings.length;a++)i.push([o,u.readings[a]]),o+=u.step;return i})},l.ctorParameters=function(){return[{type:ml.c}]},l}(),bl=function(){function l(l,n){this.start="number"==typeof l?l:l.getTime(),this.end="number"==typeof n?n:n.getTime()}return l.prototype.monthStrings=function(){for(var l=[],n=new Date(this.start),e=new Date(this.end),t=n.getFullYear(),u=n.getMonth()+1,i=e.getFullYear(),o=e.getMonth()+1,a=t;a<=i;a++)for(var r=a==t?u:1,s=a==i?o:12,c=r;c<=s;c++)l.push(a.toString()+"-"+("0"+c.toString()).slice(-2));return l},l.prototype.equals=function(l){return l.start==this.start&&l.end==this.end},l}(),Sl=1,Dl=(function(){function l(l,n,e,t){this.name=l,this.x=0,this.currentOrdinal=0,this.siblingOrdinal=0,this.siblingPred=null,this.parent=null,this.children=null,this._children=null,this.depth=0,this.selected=!1,this.visibleDescendants=0,this.colorIndex=-1,this.id=Sl++,this.pLName=n,this.pathName="",this.pathComponent=e,this.suppliers=[],this.auxSupplierNames=[],this.aux=t,this.mode="",this.components=[],this.compNodes=[],this.dynamic={required:!1,months:[],timeSeries:[],workingTimeSeries:[],dependantNodes:[]}}l.prototype.descendants=function(){var l=[this];return this.children&&this.children.forEach(function(n){l=l.concat(n.descendants())}),l},l.prototype.rippleVis=function(l){this.visibleDescendants+=l,this.parent&&this.parent.rippleVis(l)},l.prototype.collapse=function(){this.children&&(this.children.forEach(function(l){l.children&&l.collapse()}),this._children=this.children,this.children=null,this.rippleVis(-this._children.length))},l.prototype.expand=function(){this._children&&(this.children=this._children,this._children=null,this.rippleVis(this.children.length))},l.prototype.setYOrdinal=function(){for(var l=this.siblingOrdinal+1,n=this.siblingPred;null!==n;)n.visibleDescendants>0&&(l+=n.visibleDescendants),n=n.siblingPred;this.parent&&(l+=this.parent.currentOrdinal),this.currentOrdinal=l},l.prototype.isSensor=function(){return g(this.pLName)}}(),function(){function l(l,n,e,t){this.name=l,this.pLName=n,this.pathComponent=e,this.aux=t,this.components=[],this.required=!1,this.months=[],this.timeSeries=[],this.dependantNodes=[],this.mode="",this.suppliers=[],this.compNodes=[],this.siblingPred=null,this.expanded=!1,this.selected=!1,this.colorIndex=-1,this.auxSupplierNames=[],this.selNode=null}return l.prototype.collapse=function(){this.expanded&&this.children&&(this.selNode.children.forEach(function(l){l.data.expanded&&l.data.collapse()}),this.expanded=!1)},l.prototype.expand=function(){!this.expanded&&this.children&&(this.expanded=!0)},l.prototype.setYOrdinal=function(){for(var l=this.siblingOrdinal+1,n=this.siblingPred;null!==n;)l=l+n.visDescend().length-1,n=n.siblingPred;this.selNode.parent&&(l+=this.selNode.parent.data.currentOrdinal),this.currentOrdinal=l},l.prototype.visDescend=function(){var l=[this.selNode];return this.expanded&&this.selNode.children&&this.selNode.children.forEach(function(n){l=l.concat(n.data.visDescend())}),l},l.prototype.isSensor=function(){return m(this.pLName)},l}()),Cl=function(){function l(){}return l.prototype.configureNodes=function(l){function n(l){return a.find(function(n){return n.pLName==l})}function e(l){var n=a.findIndex(function(n){return n.pLName==l});n>=0&&a.splice(n,1)}function t(l,u,o){if(i.push(l),l.pathName=""==o?l.pathComponent:o+"/"+l.pathComponent,l.isSensor())return l.suppliers=[l],void u.forEach(function(n){n.suppliers.push(l)});var a=n(l.pLName);if(!a)return void(l.children&&(l.mode="CHILDREN",l.children.forEach(function(n){t(n,u.concat([l]),l.pathName)})));l.mode=a.mode,l.components=[],l.auxSupplierNames=[],a.components.forEach(function(n){l.components.push(n),l.auxSupplierNames.push(n)}),u.forEach(function(n){n.auxSupplierNames.push(l.pLName)}),l.children&&l.children.forEach(function(n){t(n,[],l.pathName)}),e(l.pLName)}function u(l){return i.find(function(n){return n.pLName==l})}var i=[],o=function(l){function n(l,e){var t=new Dl(l.nodeName,l.pLName,l.pathComponent,!1);return t.currentOrdinal=++e,l.children&&(t.children=[],t.expanded=!0,l.children.forEach(function(l,u){var i;o=n(l,e),e=o[0],i=o[1],i.siblingOrdinal=u,u>0&&(i.siblingPred=t.children[u-1]),t.children.push(i);var o})),[e,t]}var e,t=0;return u=n(l,t),t=u[0],e=u[1],e.siblingOrdinal=0,e;var u}(l.functionTree);console.log(o);var a=l.plotLines;return t(o,[],""),function(l){l.forEach(function(l){var n=new Dl(l.pLName,l.pLName,l.pLName,!0);i.push(n),n.mode=l.mode,n.components=l.components,l.components.forEach(function(l){n.auxSupplierNames.push(l)})})}(a),function(){for(var l=!0;l;)l=!1,i.forEach(function(n){if(0!=n.auxSupplierNames.length){for(var e=0;e<n.auxSupplierNames.length;e++){var t=n.auxSupplierNames[e],o=u(t);if(o)0==o.auxSupplierNames.length&&(n.suppliers=n.suppliers.concat(o.suppliers),n.auxSupplierNames[e]=null,l=!0);else if(g(t)){var a=new Dl(t,t,t,!0);a.suppliers=[a],i.push(a),n.suppliers.push(a),n.auxSupplierNames[e]=null,l=!0}else console.log("can't find auxillaryNode")}n.auxSupplierNames=n.auxSupplierNames.filter(function(l){return null!=l})}});i.forEach(function(l){l.auxSupplierNames.length>0&&(console.log("Failed to resolve:"),console.log(l))})}(),function(){i.forEach(function(l){if(0!=l.components.length)for(var n=0;n<l.components.length;n++)l.compNodes.push(u(l.components[n]))}),i.forEach(function(l){if("CHILDREN"==l.mode){for(var n=0;n<l.children.length;n++)l.compNodes.push(l.children[n]);l.mode="SUM"}})}(),i},l}(),wl=e("dTkt"),kl=[{legend:"raw",secs:0},{legend:"10 min",secs:600},{legend:"hour",secs:3600},{legend:"6 hour",secs:21600},{legend:"day",secs:86400},{legend:"week",secs:604800},{legend:"month",secs:2592e3},{legend:"year",secs:31536e3}],Nl=1,jl=function(){function l(l,n,e){this.jouleDataService=l,this.configureNodesService=n,this.d3Service=e,this.minPixelsPerPoint=2,this.averagingIntervalIndex=Nl,this.allNodes=[],this.configured=!1,this.treeReady=new xl.Subject,this.treeReadySignal=this.treeReady.asObservable(),this.serialNo=0,this.update=new xl.Subject,this.updateSignal=this.update.asObservable(),this.focusSerialNo=0,this.focusUpdate=new xl.Subject,this.focusUpdateSignal=this.focusUpdate.asObservable(),this.d3=e.getD3(),this.interval=new bl(new Date,new Date),this.focusInterval=new bl(new Date,new Date)}return l.prototype.getPlotConf=function(){return{width:800,height:600}},l.prototype.getAveragingInterval=function(){return this.averagingIntervalIndex},l.prototype.getAveragingIntervalSecs=function(){return kl[this.averagingIntervalIndex].secs},l.prototype.setAveragingInterval=function(l){this.averagingIntervalIndex=l,this.fireUpdateSignal()},l.prototype.getSelectionTree=function(){return this.selectionTree},l.prototype.getTreeLayoutConf=function(){return{width:400,height:1e3,indent:30,dropSize:32,nodeHeight:30,nodeWidth:150,duration:250}},l.prototype.intervalChange=function(l,n){var e=this;this.interval.start=l,this.interval.end=n,this.focusInterval.start=l,this.focusInterval.end=n,this.configured&&this.ensureSensorData().subscribe(function(){e.selectedNodes().forEach(function(l){e.updateNodeTimeSeries(l)}),e.fireUpdateSignal()})},l.prototype.focusIntervalChange=function(l,n){this.focusInterval.start=l,this.focusInterval.end=n,this.configured&&this.focusUpdate.next(this.focusSerialNo++)},l.prototype.focusIntervalReset=function(){this.focusInterval.start=this.interval.start,this.focusInterval.end=this.interval.end,this.configured&&this.focusUpdate.next(this.focusSerialNo++)},l.prototype.fireUpdateSignal=function(){this.update.next(this.serialNo++),this.focusUpdate.next(this.focusSerialNo++)},l.prototype.getInitialTreeDepth=function(){return 2},l.prototype.updateNodeTimeSeries=function(l){var n=this,e=l;if(!e.isSensor()){var t=[],u=[];switch(e.compNodes.forEach(function(l){n.updateNodeTimeSeries(l)}),e.mode){case"DIFF":t.push(e.compNodes[0].timeSeries),u.push(e.compNodes[1].timeSeries),e.timeSeries=p(t,u);break;case"SUM":console.log("Sum for "+e.name),e.compNodes.forEach(function(l){var n=l.timeSeries;n.length>0&&t.push(n)}),e.timeSeries=p(t,u);var i=e.timeSeries.findIndex(function(l){return l[1]>500});if(i>=0){var o=e.timeSeries[i][0];console.log("over sum at "+new Date(o)),e.compNodes.forEach(function(l){var n=l.timeSeries.find(function(l){return l[0]==o});n?console.log(l.name+" "+l.pLName+" "+n[1].toString()):console.log(l.name+" "+l.pLName+" no value")})}break;default:console.log("unknown mode: "+e.mode)}}},l.prototype.selectionChange=function(l){var n=this;this.updateSelectedSensorRequirements(l),l.selected?(l.required=!0,this.ensureSensorData().subscribe(function(){n.updateNodeTimeSeries(l),n.fireUpdateSignal()})):this.fireUpdateSignal()},l.prototype.loadConfiguration=function(l,n){this.config=l,this.jouleDataService.setSensorRoot(l.sensorRootUrl.value),this.jouleDataService.setCarbonRoot(l.carbonRootUrl.value),this.allNodes=this.configureNodesService.configureNodes(n),this.selectionTree=this.d3.hierarchy(this.allNodes[0]),this.configured=!0,this.treeReady.next()},l.prototype.checkTreeReady=function(){this.configured&&this.treeReady.next()},l.prototype.mergeTimeSeries=function(l,n){if(n.length<=0)return l;var e=f(l,n[0][0]),t=d(l,n[n.length-1][0]);return l=e.concat(n,t)},l.prototype.fillSensorData=function(l){for(var n=this,e=this.interval.monthStrings(),t=[],u=this,i=0;i<e.length;i++)!function(i){var o=e[i];if(l.months.some(function(l){return l==o}))return"continue";t.push(u.jouleDataService.getSensorTimeSeries(l.pLName,o).map(function(e){l.timeSeries=n.mergeTimeSeries(l.timeSeries,e),l.months.push(o)}))}(i);return t.length>0?vl.Observable.forkJoin(t).map(function(){}):vl.Observable.of(null)},l.prototype.ensureSensorData=function(){var l=[],n=this;return this.allNodes.forEach(function(e){if(e.required&&e.isSensor()){var t=n.fillSensorData(e);t&&l.push(t)}}),vl.Observable.forkJoin(l).map(function(){})},l.prototype.updateSelectedSensorRequirements=function(l){for(var n=l.suppliers,e=0;e<n.length;e++){var t=n[e],u=t.dependantNodes.indexOf(l);l.selected?u<0&&t.dependantNodes.push(l):u>0&&t.dependantNodes.splice(u,1),t.required=t.dependantNodes.length>0}},l.prototype.treeMapSensorRequirements=function(l){this.allNodes.forEach(function(l){l.required=!1}),l.suppliers.forEach(function(l){l.required=!0})},l.prototype.selectedNodes=function(){function l(n){var e=[];return n&&(n.selected&&e.push(n),n.children&&n.children.forEach(function(n){e=e.concat(l(n))})),e}return l(this.allNodes[0])},l.prototype.nodeTimeSeries=function(l){return l.timeSeries.length>0?_(l.timeSeries,this.interval):[]},l.ctorParameters=function(){return[{type:yl},{type:Cl},{type:wl.a}]},l}(),Kl=function(){function l(l,n,e,t){this.http=n,this.jouleStateService=e,this.jouleDataService=t,this.title="app"}return l.prototype.ngOnInit=function(){var l=this,n=document.location.search;if(console.log(n),n.startsWith("?config=")){var e=n.substring("?config=".length);e=t(e),console.log(e),this.http.get(e).subscribe(function(n){var e=n.config;l.http.get(t(e.treeUrl.value)).subscribe(function(n){var t=n;l.jouleStateService.loadConfiguration(e,t)},function(l){l.error instanceof Error?console.log("An error occurred fetching sensor tree:",l.error.message):(console.log("Server returned code "+l.status+" for sensor tree, body was: "+l.error),console.log("couldn't fetch configuration"))})},function(l){l.error instanceof Error?console.log("An error occurred fetching configuration:",l.error.message):(console.log("Server returned code "+l.status+" for configuration, body was: "+l.error),console.log("couldn't fetch configuration"))})}else console.log("bad or missing configuration specification")},l.ctorParameters=function(){return[{type:void 0,decorators:[{type:hl.s,args:[gl.b]}]},{type:ml.c},{type:jl},{type:yl}]},l}(),Il=e("kJcM"),Ll=e("/Srw"),El=[""],Pl=e("r0ix"),Tl=[".jouleHourPicker[_ngcontent-%COMP%]{height:20px;font-size:14px;width:120px}.jouleDatePicker[_ngcontent-%COMP%]{height:20px;font-size:16px;width:100px}"],Ml=e("8oXs"),Al=e("j5BN"),Fl=e("6lRS"),Ol=function(){function l(l,n){this.uiStateService=n,this.hours=[],l.setLocale("en-GB")}return l.prototype.ngOnInit=function(){for(var l=0;l<24;l++)this.hours.push({value:l,viewValue:("0"+l.toString()).slice(-2)+":00"});this.hours.push({value:23.99,viewValue:"23:59"}),this.startDay=new Date(new Date((new Date).setDate((new Date).getDate()-30)).setHours(0,0,0,0)),this.minDay=new Date(2013,0,1),this.maxDay=new Date((new Date).setHours(0,0,0,0)),this.intervalStartDay=this.startDay,this.intervalEndDay=this.maxDay,this.intervalStartHour=this.hours[0].value,this.intervalEndHour=this.hours[24].value,this.changed()},l.prototype.updateStartDay=function(l){this.intervalStartDay=l,this.changed()},l.prototype.updateEndDay=function(l){this.intervalEndDay=l,this.changed()},l.prototype.changed=function(){var l=new Date;this.intervalStart=v(this.intervalStartDay,this.intervalStartHour),this.intervalEnd=v(this.intervalEndDay,this.intervalEndHour),this.intervalEnd>l&&(this.intervalEnd=l),console.log("start day "+this.intervalStartDay),console.log("interval now"+this.intervalStart+" "+this.intervalEnd),this.uiStateService.intervalChange(this.intervalStart.getTime(),this.intervalEnd.getTime())},l.prototype.alignMonthStart=function(){var l=new Date(this.intervalStartDay);l.setDate(1),l.setHours(0,0,0,0),l<this.minDay&&(l=this.minDay),this.intervalStartDay=l,this.intervalStartHour=0},l.prototype.alignMonthEnd=function(){this.intervalEndDay=this.previousDay(this.advanceMonth(this.intervalStartDay)),this.intervalEndDay>this.maxDay&&(this.intervalEndDay=this.maxDay),this.intervalEndHour=this.hours[24].value},l.prototype.previousDay=function(l){return new Date(l.getTime()-864e5)},l.prototype.backupMonth=function(l){var n=new Date(l);return 0==n.getMonth()?n.setFullYear(n.getFullYear()-1,11,n.getDate()):n.setFullYear(n.getFullYear(),n.getMonth()-1,n.getDate()),n},l.prototype.advanceMonth=function(l){var n=new Date(l);return 11==n.getMonth()?n.setFullYear(n.getFullYear()+1,0,n.getDate()):n.setFullYear(n.getFullYear(),n.getMonth()+1,n.getDate()),n},l.prototype.prevMonth=function(){this.alignMonthStart(),this.intervalStartDay=this.backupMonth(this.intervalStartDay),this.alignMonthEnd(),this.changed()},l.prototype.nextMonth=function(){this.alignMonthStart(),this.intervalStartDay=this.advanceMonth(this.intervalStartDay),this.alignMonthEnd(),this.changed()},l.ctorParameters=function(){return[{type:Fl.a},{type:jl}]},l}(),Rl=e("bm2B"),Bl=e("BtE/"),zl=e("Lpd/"),Hl=e("w24y"),Vl=e("OFGE"),Yl=e("l6RC"),ql=e("EPfU"),Ul=e("gOiy"),Xl=e("4jwp"),Jl=e("V8+5"),Wl=e("qbdv"),Gl=e("wjk8"),$l=e("ghl+"),Ql=e("8Xfy"),Zl=[Tl],ln=hl._12({encapsulation:0,styles:Zl,data:{}}),nn=(hl._10("app-interval",Ol,S,{},{},[]),[""]),en=[""],tn=function(){function l(){this.materialColorData={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},"dark-text":{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},"light-text":{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},"dark-icons":{active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},"light-icons":{active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},white:"#ffffff",black:"#000000"};var l=this;this.primaryColors=[],this.primaryColorAllocated=[],Object.keys(this.materialColorData).forEach(function(n,e){l.materialColorData[n].a100&&(l.primaryColors.push(n),l.primaryColorAllocated.push(!1))})}return l.prototype.getColor=function(l,n){var e="string"==typeof l?l:0<=l&&l<this.primaryColors.length?this.primaryColors[l]:"black";return void 0===n&&(n="700"),void 0===this.materialColorData[e]&&(e="black"),"black"==e?this.materialColorData.black:this.materialColorData[e][n]},l.prototype.allocateColor=function(l){var n=l;return(n<=0||this.primaryColorAllocated[n])&&(n=this.primaryColorAllocated.findIndex(function(l,n){return n%2==0&&!l}))<0&&(n=this.primaryColorAllocated.findIndex(function(l,n){return!l})),n>=0&&(this.primaryColorAllocated[n]=!0),n},l.prototype.freeColor=function(l){this.primaryColorAllocated[l]=!1},l.ctorParameters=function(){return[]},l}(),un=function(){function l(l,n,e,t){this.matColService=e,this.jouleStateService=t,this.d3=n.getD3(),this.parentNativeElement=l.nativeElement}return l.prototype.ngOnInit=function(){var l;this.config=this.jouleStateService.getPlotConf(),null!==this.parentNativeElement&&(l=this.d3.select(this.parentNativeElement),this.d3Svg=l.select("svg").attr("width",this.config.width).attr("height",this.config.height))},l.ctorParameters=function(){return[{type:hl.o},{type:wl.a},{type:tn},{type:jl}]},l}(),on=e("dbey"),an=[en],rn=hl._12({encapsulation:0,styles:an,data:{}}),sn=(hl._10("sankey",un,C,{},{},[]),[""]),cn=function(){function l(l,n,e,t){this.element=l,this.d3Service=n,this.jouleStateService=e,this.matColService=t,this.d3=n.getD3(),this.parentNativeElement=l.nativeElement}return l.prototype.ngOnDestroy=function(){this.d3Svg.empty&&!this.d3Svg.empty()&&this.d3Svg.selectAll("*").remove(),this.subscription.unsubscribe()},l.prototype.ngOnInit=function(){var l,n=this.getConf();console.log(n),this.svgWidth=n.width,this.svgHeight=n.height,null!==this.parentNativeElement&&(l=this.d3.select(this.parentNativeElement),console.log("w "+l.select("svg").attr("width")),this.d3Svg=l.select("svg").attr("width",this.svgWidth).attr("height",this.svgHeight),console.log("w "+l.select("svg").attr("width")),this.initPlot(),this.subscription=this.setSubscription())},l.prototype.initPlot=function(){},l.prototype.updatePlot=function(){},l.prototype.getConf=function(){return this.jouleStateService.getPlotConf()},l.prototype.setSubscription=function(){var l=this,n=this.jouleStateService.updateSignal.subscribe(function(){l.jouleStateService.ensureSensorData().subscribe(function(){l.updatePlot()})});return this.jouleStateService.fireUpdateSignal(),n},l.ctorParameters=function(){return[{type:hl.o},{type:wl.a},{type:jl},{type:tn}]},l}(),dn=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),fn={top:40,right:10,bottom:10,left:10},hn=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.dataIn=!1,n.legendString="loading...",n.highlightString="",n.highlightedNode=null,n}return dn(n,l),n.prototype.initPlot=function(){var l=0;this.width=this.svgWidth-fn.left-fn.right,this.height=this.svgHeight-fn.top-fn.bottom;var n=this.jouleStateService.getSelectionTree().children[1];this.jouleStateService.treeMapSensorRequirements(n.data),n.descendants().forEach(function(n){n.id="ID-"+(l++).toString()}),this.mainTree=n,this.currentRoot=n},n.prototype.upClick=function(){this.currentRoot.parent&&this.currentRoot!=this.mainTree&&(this.currentRoot=this.currentRoot.parent,this.updatePlot())},n.prototype.color=function(l,n){for(var e=l;e.parent&&e.parent!=this.mainTree;)e=e.parent;return this.matColService.getColor(2*e.data.siblingOrdinal,n)},n.prototype.makeLegendString=function(l){for(var n=l,e=n.data.name;n.parent&&n!=this.mainTree;)n=n.parent,e=n.data.name+" / "+e;e=e+"   "+l.value.toFixed(2)+" kW",this.legendString=e},n.prototype.makeHighlightString=function(l){this.highlightString=l?l.data.name+"   "+l.value.toFixed(2)+" kW":" "},n.prototype.mouseOver=function(l){this.highlightedNode=l,this.updateTreeMap(this.currentRoot)},n.prototype.mouseOut=function(l){this.highlightedNode=null,this.updateTreeMap(this.currentRoot)},n.prototype.visibleNodes=function(){var l=this.currentRoot.children;return this.highlightedNode&&k(this.currentRoot,this.highlightedNode)&&this.highlightedNode.children&&(l=l.concat(this.highlightedNode.children)),l},n.prototype.updatePlot=function(){var l=this;this.mainTree.leaves().forEach(function(n){var e=l.jouleStateService.nodeTimeSeries(n.data);n.value=s(e,l.jouleStateService.interval)}),N(this.mainTree),j(this.mainTree),E(this.mainTree,this.height/this.width),P(this.mainTree),this.updateTreeMap(this.currentRoot)},n.prototype.updateTreeMap=function(l){var n=this,e=this.width,t=this.height;this.highlightedNode==l&&(this.highlightedNode=null),this.currentRoot=l;var u=this.d3Svg.selectAll("g.node").data(this.visibleNodes(),function(l){return l.id}),i=u.enter().append("g").attr("class","node").attr("transform",w("translate",fn.left,fn.top));i.append("rect").attr("rx",5).attr("ry",5).style("opacity",0).attr("stroke",function(l){return n.color(l,"300")}).style("fill",function(l){return n.color(l,"700")}).on("mouseover",function(l){return n.mouseOver(l)}).on("mouseout",function(l){return n.mouseOut(l)}).on("click",function(l){l.children&&n.updateTreeMap(l)}).attr("pointer-events","none").attr("x",function(n){return k(l,n)?n.xPos*e:n.gcXPos*e}).attr("y",function(n){return k(l,n)?n.yPos*t:n.gcYPos*t}).attr("width",function(n){return k(l,n)?n.xDel*e:n.gcXDel*e}).attr("height",function(n){return k(l,n)?n.yDel*t:n.gcYDel*t}).style("fill",function(l){return n.highlightedNode==l?n.color(l,"500"):n.color(l,"700")}),i.append("text").attr("dy",".35em").style("text-anchor","middle").style("fill","white").style("font-family","Roboto").style("font-weight","400").attr("pointer-events","none").attr("x",function(n){return k(l,n)?(n.xPos+n.xDel/2)*e:(n.gcXPos+n.gcXDel/2)*e}).attr("y",function(n){return k(l,n)?n.yPos*t+20:(n.gcYPos+n.gcYDel)*t-20}).text(function(l){return l.relValue>.01?l.data.name+" "+l.value.toFixed(0)+"kW":""}).style("font-size",function(n){return k(l,n)?"15px":"12px"});var o=i.merge(u);o.select("rect").transition().duration(500).style("opacity",1).attr("pointer-events",function(n){return k(l,n)?"click | mouseover | mouseout":"none"}).attr("x",function(n){return k(l,n)?n.xPos*e:n.gcXPos*e}).attr("y",function(n){return k(l,n)?n.yPos*t:n.gcYPos*t}).attr("width",function(n){return k(l,n)?n.xDel*e:n.gcXDel*e}).attr("height",function(n){return k(l,n)?n.yDel*t:n.gcYDel*t}).style("fill",function(l){return n.highlightedNode==l?n.color(l,"500"):k(n.highlightedNode,l)?"none":n.color(l,"700")}),o.select("text").transition().duration(500).attr("x",function(n){return k(l,n)?(n.xPos+n.xDel/2)*e:(n.gcXPos+n.gcXDel/2)*e}).attr("y",function(n){return k(l,n)?n.yPos*t+20:(n.gcYPos+n.gcYDel)*t-20}).style("font-size",function(n){return k(l,n)?"15px":"12px"}),this.makeLegendString(this.currentRoot),this.makeHighlightString(this.highlightedNode),u.exit().transition().duration(100).remove()},n}(cn),_n=[sn],pn=hl._12({encapsulation:0,styles:_n,data:{}}),gn=(hl._10("tree-plot",hn,M,{},{},[]),[""]),mn=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),vn=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.nextId=1,n}return mn(n,l),n.prototype.selectionTreeLayout=function(l,n,e,t,u){l.descendants().forEach(function(l){l.data.selNode=l}),l.descendants().forEach(function(l){l.depth==u&&l.data.collapse()}),l.descendants().some(function(l){return l.data.selected})||(l.children[0].data.selected=!0,this.jouleStateService.selectionChange(l.children[0].data),l.children[0].data.colorIndex=this.matColService.allocateColor(l.children[0].data.colorIndex))},n.prototype.update=function(){function l(l,n){var e=l.data;return e.setYOrdinal(),(e.currentOrdinal+1)*n}function n(l,n){return(l.depth+2)*n}function e(l){var n=l.data;n.expanded?n.collapse():n.expand(),o.update()}function t(l){var n=l.data;n.selected=void 0==n.selected||!n.selected,n.selected?n.colorIndex=o.matColService.allocateColor(n.colorIndex):o.matColService.freeColor(n.colorIndex),o.jouleStateService.selectionChange(n),o.update()}function u(l){return l.data.selected?o.matColService.getColor(l.data.colorIndex,"700"):o.matColService.getColor("blue-grey","100")}function i(l){return l.data.selected?o.matColService.getColor(l.data.colorIndex,"50"):o.matColService.getColor("blue-grey","900")}var o=this,a=this.d3Svg.selectAll("g.node").data(this.root.data.visDescend(),function(l){return l.id||(l.id=o.nextId++)}),r=a.enter().append("g").attr("class","node").attr("transform",function(e,t){return"translate("+n(e,o.config.indent)+","+l(e,o.config.dropSize)+")"});r.append("rect").classed("node",!0).attr("x",0).attr("y",0).attr("rx",5).attr("ry",5).attr("height",o.config.nodeHeight).attr("width",o.config.nodeWidth).style("fill",u).on("click",t),r.append("text").attr("x",o.config.nodeWidth/2).attr("y",o.config.nodeHeight/2).attr("dy",".35em").style("text-anchor","middle").style("fill",i).style("font-family","Roboto").style("font-weight","400").text(function(l){return l.data.name}).on("click",t);var s=r.merge(a);s.transition().duration(o.config.duration).attr("transform",function(e){return"translate("+n(e,o.config.indent)+","+l(e,o.config.dropSize)+")"}),s.select("rect").style("fill",u),s.select("text").style("fill",i),a.exit().transition().duration(0).attr("transform",function(e){return"translate("+n(e,o.config.indent)+","+l(e,o.config.dropSize)+")"}).remove();var c=-o.config.indent/2,d=o.config.dropSize/2,f=.7*o.config.dropSize,h=f*Math.sqrt(3)/2,_=(c-h/2).toString()+","+(d+f/2).toString()+" "+(c-h/2).toString()+","+(d-f/2).toString()+" "+(c+h/2).toString()+","+d.toString()+" ",p=r.filter(function(l){return l.children}).append("svg:polygon").attr("class","arrow").attr("fill","black").attr("points",_).on("click",e);p.filter(function(l){return!l.data.expanded}).attr("transform","translate("+-o.config.indent+", 0)"),p.filter(function(l){return l.data.expanded}).attr("transform","translate(0, 0) rotate(90)");var g=s.select("polygon.arrow");g.transition().duration(o.config.duration),g.filter(function(l){return!l.data.expanded}).attr("transform","translate(0, 0)"),g.filter(function(l){return l.data.expanded}).attr("transform","translate(0, "+o.config.dropSize+") rotate(90)")},n.prototype.getConf=function(){return this.config=this.jouleStateService.getTreeLayoutConf(),this.config},n.prototype.setSubscription=function(){var l=this,n=this.jouleStateService.treeReadySignal.first().subscribe(function(n){l.root=l.jouleStateService.getSelectionTree(),l.selectionTreeLayout(l.root,l.config.width,l.config.height,l.config.indent,l.jouleStateService.getInitialTreeDepth()),l.update()});return this.jouleStateService.checkTreeReady(),n},n}(cn),xn=[gn],yn=hl._12({encapsulation:0,styles:xn,data:{}}),bn=(hl._10("app-selection-tree",vn,F,{},{},[]),[""]),Sn=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dn=["January","February","March","April","May","June","July","August","September","October","November","December"],Cn=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],wn=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.nextId=0,n.zoomableBrushable=!1,n}return Sn(n,l),n.prototype.initPlot=function(){function l(){if(t.zoomableBrushable&&(!u.event.sourceEvent||"zoom"!==u.event.sourceEvent.type)){var l=u.event.selection||t.xContext.range();t.x.domain(l.map(t.xContext.invert,t.xContext)),t.focus.select(".axis--x").call(t.xAxis),i.select(".zoom").call(a.transform,u.zoomIdentity.scale(t.width/(l[1]-l[0])).translate(-l[0],0)),e()}}function n(){if(t.zoomableBrushable&&(!u.event.sourceEvent||"brush"!==u.event.sourceEvent.type)){var l=u.event.transform;t.x.domain(l.rescaleX(t.xContext).domain()),t.focus.select(".axis--x").call(t.xAxis),t.timeLegend.text(O(t.x.domain())),t.context.select(".brush").call(o.move,t.x.range().map(l.invertX,l)),e()}}function e(){var l=t.jouleStateService.interval,n=t.x.domain();n[0]<l.start&&(n[0]=l.start,console.log("bad interval start on repaint")),(n[1]>l.end||n[1]<n[0])&&(n[1]=l.end,console.log("bad interval start on repaint")),t.jouleStateService.focusIntervalChange(n[0],n[1]),t.updatePlot()}var t=this,u=this.d3,i=this.d3Svg;this.svgWidth=i.attr("width"),this.svgHeight=i.attr("height"),this.margin={top:20,right:40,bottom:.2*this.svgHeight,left:40},this.margin2={top:.85*this.svgHeight,right:40,bottom:30,left:40},this.width=+i.attr("width")-this.margin.left-this.margin.right,this.height=+i.attr("height")-this.margin.top-this.margin.bottom,this.height2=+i.attr("height")-this.margin2.top-this.margin2.bottom,this.x=u.scaleTime().range([0,this.width]),this.xAxis=u.axisBottom(this.x),this.xContext=u.scaleTime().range([0,this.width]),this.xAxisContext=u.axisBottom(this.xContext),this.y=u.scaleLinear().range([this.height,0]),this.yAxis=u.axisLeft(this.y),this.yContext=u.scaleLinear().range([this.height2,0]),this.zoomableBrushable=!1;var o=u.brushX().extent([[0,0],[t.width,t.height2]]).on("brush end",l),a=u.zoom().scaleExtent([1,1/0]).translateExtent([[0,0],[t.width,t.height]]).extent([[0,0],[t.width,t.height]]).on("zoom",n);i.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",t.width).attr("height",t.height),this.focus=i.append("g").attr("class","focus").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),this.context=i.append("g").attr("class","context").attr("transform","translate("+t.margin2.left+","+t.margin2.top+")"),this.timeLegend=this.focus.append("text").attr("x",t.width/2).attr("y",20).attr("text-anchor","middle").style("font-family","sans-serif").style("font-size","16px").text(""),this.focus.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+t.height+")").call(t.xAxis),this.context.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+t.height2+")").call(t.xAxisContext),this.focus.append("g").attr("class","axis axis--y").style("stroke","#001").style("fill","none").attr("transform","translate(0)").call(t.yAxis),this.context.append("g").attr("class","brush").call(o).call(o.move,t.x.range()),i.append("rect").attr("class","zoom").attr("width",t.width).attr("height",t.height).attr("transform","translate("+t.margin.left+","+t.margin.top+")").style("fill","none").call(a),this.jouleStateService.focusIntervalReset()},n.prototype.updatePlot=function(){function l(l,n){return o(l.map(function(l){return r(l.workingTimeSeries,n)}))}var n,e,t,u,i=this,a=this.d3,s=this,c=(this.d3Svg,this.jouleStateService.interval),d=this.jouleStateService.focusInterval,f=this.jouleStateService.selectedNodes(),_=this.jouleStateService.getAveragingIntervalSecs();return f.forEach(function(l){console.log(l.pLName+" selected");var n=s.jouleStateService.nodeTimeSeries(l);n.some(function(l){return l[1]>500})&&console.log("over pre"),n=h(n,_),l.workingTimeSeries=n}),0==f.length?void console.log("nothing selected"):(console.log(f.length.toString()+" plots"),n=[c.start,c.end],e=[d.start,d.end],this.x.domain(e),this.xContext.domain(n),this.focus.selectAll(".line").attr("d",function(l){return l.mainLine(l.values)}),this.context.selectAll(".line").attr("d",function(l){return l.contextLine(l.values)}),this.focus.select(".axis--x").call(s.xAxis),this.context.select(".axis--x").call(s.xAxisContext),this.focus.selectAll("path").remove(),this.context.selectAll("path").remove(),t=[0,l(f,c)],u=[0,l(f,d)],0==t[1]?void console.log("no data?"):(this.y.domain(u),this.yContext.domain(t),this.focus.select(".axis--y").call(s.yAxis),f.forEach(function(l){var t={};t.values=l.workingTimeSeries,t.color=i.matColService.getColor(l.colorIndex),t.mainLine=a.line().defined(function(l){return l[1]>=0&&e[0]<=l[0]&&l[0]<=e[1]}).x(function(l){return s.x(l[0])}).y(function(l){return s.y(l[1])}),t.yScale=i.y,i.focus.append("path").datum(t).attr("class","line").attr("stroke-width",2).style("stroke",t.color).style("fill","none").attr("d",function(l){return t.mainLine(t.values)}),t.contextLine=a.line().defined(function(l){return l[1]>=0&&n[0]<=l[0]&&l[0]<=n[1]}).x(function(l){return s.xContext(l[0])}).y(function(l){return s.yContext(l[1])}),t.yContext=s.yContext,i.context.append("path").datum(t).attr("class","line").attr("stroke-width",1).style("stroke",t.color).style("fill","none").attr("d",function(l){return t.contextLine(t.values)})}),this.zoomableBrushable=!0,void this.timeLegend.text(O(this.x.domain()))))},n}(cn),kn=[bn],Nn=hl._12({encapsulation:0,styles:kn,data:{}}),jn=(hl._10("line-plot",wn,B,{},{},[]),[""]),Kn=function(){function l(l,n){this.jouleStateService=l,this.matColService=n,this.avgInterval=5,this.slideMax=kl.length-1}return l.prototype.ngOnInit=function(){this.avgInterval=this.jouleStateService.getAveragingInterval()},l.prototype.slider=function(){this.jouleStateService.setAveragingInterval(this.avgInterval)},l.prototype.avgIntervalString=function(){return kl[this.avgInterval].legend},l.ctorParameters=function(){return[{type:jl},{type:tn}]},l}(),In=e("aoAq"),Ln=e("kMVV"),En=[jn],Pn=hl._12({encapsulation:0,styles:En,data:{}}),Tn=(hl._10("smoother",Kn,H,{},{},[]),[""]),Mn=e("697t"),An=e("c4k3"),Fn=e("mzT2"),On=e("ka8K"),Rn=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])};return function(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bn=function(){function l(l,n){this.jouleStateService=l,this.matColService=n,this.displayedColumns=["key","name","avFocus","maxFocus","avInterval","total"],this.blockChar="&block",this.avFocusName="Average Selected (kW)",this.maxFocusName="Max in Selected (kW)",this.avIntervalName="Average Entire (kW)",this.totalName="Total Entire (kWh)",this.white="white",this.dataSource=new Hn(this.jouleStateService,this.matColService)}return l.prototype.ngOnInit=function(){this.config=this.jouleStateService.getPlotConf()},l.ctorParameters=function(){return[{type:jl},{type:tn}]},l}(),zn=.001/3600,Hn=function(l){function n(n,e){var t=l.call(this)||this;return t.jouleStateService=n,t.matColService=e,t.rateMult=zn,t}return Rn(n,l),n.prototype.connect=function(){var l=this;return this.observable=this.jouleStateService.focusUpdateSignal.map(function(){return l.getTableData()}),setTimeout(function(){return l.jouleStateService.focusIntervalReset()},0),this.observable},n.prototype.getTableData=function(){var l=this.jouleStateService.selectedNodes(),n=this,e=[];return l.forEach(function(l){var t=n.jouleStateService.nodeTimeSeries(l),u={name:l.pathName,color:n.matColService.getColor(l.colorIndex),avFocus:s(t,n.jouleStateService.focusInterval).toFixed(2),maxFocus:r(t,n.jouleStateService.focusInterval).toFixed(2),avInterval:s(t,n.jouleStateService.interval).toFixed(2),total:c(t,n.jouleStateService.interval,n.rateMult).toFixed(0)};e.push(u)}),e},n.prototype.disconnect=function(){},n}(On.a),Vn=[Tn],Yn=hl._12({encapsulation:0,styles:Vn,data:{}});hl._10("joule-table",Bn,ul,{},{},[]);!function(l){l[l.Line=0]="Line",l[l.Sankey=1]="Sankey",l[l.Tree=2]="Tree"}(fl||(fl={}));var qn=function(){function l(){this.plotType=fl.Line,this.pt=fl}return l.prototype.sankey=function(){this.plotType=fl.Sankey},l.prototype.treemap=function(){this.plotType=fl.Tree},l.prototype.linePlot=function(){this.plotType=fl.Line},l}(),Un=[nn],Xn=hl._12({encapsulation:0,styles:Un,data:{}}),Jn=(hl._10("app-plot-area",qn,sl,{},{},[]),[El]),Wn=hl._12({encapsulation:0,styles:Jn,data:{}}),Gn=hl._10("app-root",Kl,dl,{},{},[]),$n=e("f9zQ"),Qn=e("fL27"),Zn=e("EyWH"),le=e("vgc3"),ne=e("CPp0"),ee=e("Ioj9"),te=e("CZgk"),ue=hl._11(pl,[Kl],function(l){return hl._26([hl._27(512,hl.k,hl._7,[[8,[Il.a,Ll.a,Gn]],[3,hl.k],hl.B]),hl._27(5120,hl.z,hl._25,[[3,hl.z]]),hl._27(4608,Wl.h,Wl.g,[hl.z]),hl._27(4608,hl.i,hl.i,[]),hl._27(5120,hl.a,hl._16,[]),hl._27(5120,hl.x,hl._22,[]),hl._27(5120,hl.y,hl._23,[]),hl._27(4608,gl.c,gl.t,[Wl.b]),hl._27(6144,hl.N,null,[gl.c]),hl._27(4608,gl.f,Al.k,[]),hl._27(5120,gl.d,function(l,n,e,t){return[new gl.l(l),new gl.p(n),new gl.o(e,t)]},[Wl.b,Wl.b,Wl.b,gl.f]),hl._27(4608,gl.e,gl.e,[gl.d,hl.D]),hl._27(135680,gl.n,gl.n,[Wl.b]),hl._27(4608,gl.m,gl.m,[gl.e,gl.n]),hl._27(5120,$n.a,Qn.d,[]),hl._27(5120,$n.c,Qn.e,[]),hl._27(4608,$n.b,Qn.c,[$n.a,$n.c]),hl._27(5120,hl.L,Qn.f,[gl.m,$n.b,hl.D]),hl._27(6144,gl.q,null,[gl.n]),hl._27(4608,hl.T,hl.T,[hl.D]),hl._27(4608,gl.h,gl.h,[Wl.b]),hl._27(4608,gl.j,gl.j,[Wl.b]),hl._27(5120,Pl.a,Pl.d,[]),hl._27(4608,Pl.b,Pl.b,[Pl.a]),hl._27(4608,Pl.l,Pl.l,[hl.D,gl.b]),hl._27(5120,Pl.m,Pl.k,[[3,Pl.m],Pl.b,Pl.l]),hl._27(5120,Pl.p,Pl.o,[[3,Pl.p],Pl.l,Pl.b]),hl._27(4608,Zn.b,Qn.b,[hl.L,gl.b]),hl._27(4608,Rl.n,Rl.n,[]),hl._27(6144,Al.o,null,[hl.z]),hl._27(4608,Al.g,Al.H,[[2,Al.o]]),hl._27(6144,Yl.b,null,[gl.b]),hl._27(4608,Yl.c,Yl.c,[[2,Yl.b]]),hl._27(4608,Jl.a,Jl.a,[]),hl._27(5120,Xl.c,Xl.a,[[3,Xl.c],hl.D,Jl.a]),hl._27(5120,Xl.f,Xl.e,[[3,Xl.f],Xl.c]),hl._27(4608,Ql.l,Ql.l,[Jl.a]),hl._27(4608,Ql.k,Ql.k,[Ql.l,Jl.a,hl.D]),hl._27(136192,Ql.e,Ql.c,[[3,Ql.e],Jl.a]),hl._27(5120,Ql.p,Ql.o,[[3,Ql.p],[2,Ql.m],Jl.a]),hl._27(5120,Ql.i,Ql.g,[[3,Ql.i],hl.D,Jl.a]),hl._27(5120,le.d,le.a,[[3,le.d],[2,ne.a],gl.c]),hl._27(4608,Vl.g,Vl.g,[Xl.c,Xl.f]),hl._27(5120,Vl.d,Vl.j,[[3,Vl.d]]),hl._27(4608,Vl.m,Vl.m,[Xl.f]),hl._27(4608,Vl.b,Vl.b,[Vl.g,Vl.d,hl.k,Vl.m,hl.e,hl.v,hl.D]),hl._27(5120,Vl.k,Vl.l,[Vl.b]),hl._27(5120,Ul.b,Ul.a,[Vl.b]),hl._27(5120,Hl.b,Hl.a,[Vl.b]),hl._27(4608,Hl.c,Hl.c,[Vl.b,hl.v,[2,Wl.c],Hl.b,[3,Hl.c]]),hl._27(4608,Bl.h,Bl.h,[]),hl._27(5120,Bl.b,Bl.a,[Vl.b]),hl._27(4608,ml.h,ml.m,[Wl.b,hl.G,ml.k]),hl._27(4608,ml.n,ml.n,[ml.h,ml.l]),hl._27(5120,ml.a,function(l){return[l]},[ml.n]),hl._27(4608,ml.j,ml.j,[]),hl._27(6144,ml.i,null,[ml.j]),hl._27(4608,ml.g,ml.g,[ml.i]),hl._27(6144,ml.b,null,[ml.g]),hl._27(5120,ml.f,ml.o,[ml.b,[2,ml.a]]),hl._27(4608,ml.c,ml.c,[ml.f]),hl._27(4608,on.a,on.a,[]),hl._27(4608,tn,tn,[]),hl._27(4608,yl,yl,[ml.c]),hl._27(4608,Cl,Cl,[]),hl._27(4608,jl,jl,[yl,Cl,on.a]),hl._27(512,Wl.a,Wl.a,[]),hl._27(1024,hl.p,gl.r,[]),hl._27(1024,hl.b,function(l,n){return[gl.s(l,n)]},[[2,gl.i],[2,hl.C]]),hl._27(512,hl.c,hl.c,[[2,hl.b]]),hl._27(131584,hl._14,hl._14,[hl.D,hl._8,hl.v,hl.p,hl.k,hl.c]),hl._27(2048,hl.e,null,[hl._14]),hl._27(512,hl.d,hl.d,[hl.e]),hl._27(512,gl.a,gl.a,[[3,gl.a]]),hl._27(512,Pl.n,Pl.n,[]),hl._27(512,Pl.f,Pl.f,[]),hl._27(512,Qn.a,Qn.a,[]),hl._27(512,Rl.m,Rl.m,[]),hl._27(512,Rl.e,Rl.e,[]),hl._27(512,Al.I,Al.I,[]),hl._27(512,Al.z,Al.z,[]),hl._27(512,Al.e,Al.e,[]),hl._27(512,Yl.a,Yl.a,[]),hl._27(256,Al.n,!0,[]),hl._27(512,Al.v,Al.v,[[2,gl.b],[2,Al.n]]),hl._27(512,Jl.b,Jl.b,[]),hl._27(512,Xl.b,Xl.b,[]),hl._27(512,Al.G,Al.G,[]),hl._27(512,Ql.a,Ql.a,[]),hl._27(512,$l.d,$l.d,[]),hl._27(512,le.c,le.c,[]),hl._27(512,ee.a,ee.a,[]),hl._27(512,te.e,te.e,[]),hl._27(512,Vl.e,Vl.e,[]),hl._27(512,Al.E,Al.E,[]),hl._27(512,Al.C,Al.C,[]),hl._27(512,Ul.d,Ul.d,[]),hl._27(512,Ln.b,Ln.b,[]),hl._27(512,Hl.e,Hl.e,[]),hl._27(512,Bl.i,Bl.i,[]),hl._27(512,An.n,An.n,[]),hl._27(512,Mn.k,Mn.k,[]),hl._27(512,Al.J,Al.J,[]),hl._27(512,ml.e,ml.e,[]),hl._27(512,ml.d,ml.d,[]),hl._27(512,pl,pl,[]),hl._27(256,Al.q,Al.p,[]),hl._27(256,Al.m,!0,[]),hl._27(256,ml.k,"XSRF-TOKEN",[]),hl._27(256,ml.l,"X-XSRF-TOKEN",[])])});_l.production&&Object(hl._1)(),Object(gl.k)().bootstrapModuleFactory(ue).catch(function(l){return console.log(l)})},gFIY:function(l,n){function e(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}e.keys=function(){return[]},e.resolve=e,l.exports=e,e.id="gFIY"}},[0]);